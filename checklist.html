<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checklist Loca√ß√£o | Neto Junior</title>

    <link rel="icon" href="https://res.cloudinary.com/dslkn4i7d/image/upload/v1769186773/1_knfthq.png" type="image/png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lato:wght@300;400;700&display=swap"
        rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'nj-blue': '#0B2F5C',
                        'nj-silver': '#808080',
                        'nj-dark': '#1a1a1a',
                        'nj-bg': '#f8f9fa'
                    },
                    fontFamily: {
                        sans: ['Lato', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    }
                }
            }
        }
    </script>

    <style>
        :root {
            --print-zoom: 85%;
        }

        @media print {
            @page {
                margin: 0;
                size: A4;
            }

            body {
                background: white;
                -webkit-print-color-adjust: exact;
                padding: 0 !important;
                zoom: var(--print-zoom);
            }

            .no-print {
                display: none !important;
            }

            .page-container {
                width: 210mm !important;
                min-height: 296mm !important;
                margin: 0 auto !important;
                padding: 8mm !important;
                box-shadow: none !important;
                border: none !important;
            }

            input,
            textarea,
            select {
                border: none !important;
                background: transparent !important;
                resize: none;
                padding: 0;
                margin: 0;
            }

            /* Corre√ß√£o Texto Apagado */
            .text-gray-500,
            .text-gray-400 {
                color: #000 !important;
            }

            /* Checkbox Customizado */
            input[type="checkbox"] {
                appearance: none !important;
                display: inline-flex !important;
                width: 11px !important;
                height: 11px !important;
                border: 1px solid #000 !important;
                border-radius: 1px !important;
                margin-right: 4px !important;
                flex-shrink: 0 !important;
            }

            input[type="checkbox"]:checked {
                background-color: #0B2F5C !important;
                border-color: #0B2F5C !important;
            }

            input[type="checkbox"]:checked:after {
                content: '‚úî';
                font-size: 8px !important;
                color: white !important;
                line-height: 10px;
                display: block;
                text-align: center;
            }

            .print-section-header {
                background-color: #0B2F5C !important;
                color: white !important;
                -webkit-print-color-adjust: exact;
            }

            /* Auto-hide Obs */
            .obs-container.empty-obs {
                display: none !important;
            }
        }

        .input-line {
            border-bottom: 1px solid #ddd;
            outline: none;
            width: 100%;
            font-size: 0.75rem;
            color: #333;
            padding-left: 2px;
        }

        .input-line:focus {
            border-bottom: 1px solid #0B2F5C;
            background-color: #f0f4ff;
        }

        .section-header {
            background-color: #0B2F5C;
            color: white;
            font-size: 0.7rem;
            font-weight: bold;
            text-transform: uppercase;
            padding: 2px 6px;
            margin-bottom: 4px;
            border-radius: 2px;
            letter-spacing: 0.5px;
        }

        .check-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 2px;
        }

        .check-label {
            font-size: 0.65rem;
            line-height: 1.1;
            color: #444;
            cursor: pointer;
        }

        .check-input {
            margin-right: 4px;
            margin-top: 1px;
            cursor: pointer;
        }

        .group-title {
            font-size: 0.65rem;
            font-weight: bold;
            color: #0B2F5C;
            margin-top: 4px;
            margin-bottom: 2px;
            text-transform: uppercase;
            border-bottom: 1px solid #eee;
        }

        .auto-textarea {
            overflow: hidden;
            resize: none;
            min-height: 20px;
        }

        /* Bot√µes de A√ß√£o no Menu */
        .btn-action {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: bold;
            text-transform: uppercase;
            transition: all 0.2s;
            cursor: pointer;
        }

        .btn-save {
            background-color: #10B981;
            color: white;
        }

        /* Verde */
        .btn-save:hover {
            background-color: #059669;
        }

        .btn-load {
            background-color: #F59E0B;
            color: white;
        }

        /* Laranja */
        .btn-load:hover {
            background-color: #D97706;
        }
    </style>
</head>

<body class="bg-gray-100 min-h-screen flex flex-col items-center py-6 print:py-0">

    <input type="file" id="file-input" accept=".nj,.json" style="display: none;" onchange="loadFromFile(this)">

    <div
        class="no-print fixed top-0 left-0 w-full bg-nj-blue text-white p-3 shadow-lg z-50 flex flex-col md:flex-row justify-between items-center text-sm gap-2">
        <div class="font-bold tracking-widest pl-4 w-full md:w-auto text-center md:text-left">CHECKLIST NJ</div>

        <div class="flex items-center gap-3 overflow-x-auto w-full md:w-auto justify-center">

            <button onclick="saveData()" class="btn-action btn-save" title="Salvar checklist preenchido">
                üíæ <span class="hidden md:inline">Salvar</span>
            </button>
            <button onclick="document.getElementById('file-input').click()" class="btn-action btn-load"
                title="Carregar checklist anterior">
                üìÇ <span class="hidden md:inline">Carregar</span>
            </button>

            <div class="h-6 w-px bg-blue-800 mx-1"></div>

            <div class="flex items-center bg-blue-900/50 rounded px-2 py-1 gap-2">
                <button onclick="adjustZoom(-5)"
                    class="text-white hover:text-yellow-400 font-bold text-lg leading-none">A-</button>
                <span id="zoom-display" class="text-xs font-mono w-8 text-center">85%</span>
                <button onclick="adjustZoom(5)"
                    class="text-white hover:text-yellow-400 font-bold text-lg leading-none">A+</button>
            </div>

            <button onclick="window.print()"
                class="bg-white text-nj-blue px-4 py-1 rounded font-bold hover:bg-nj-silver hover:text-white transition shadow text-xs flex items-center gap-2">
                üñ®Ô∏è <span class="hidden md:inline">Imprimir</span>
            </button>
        </div>
    </div>

    <div
        class="page-container bg-white w-full max-w-[210mm] min-h-[297mm] shadow-xl print:shadow-none p-8 mt-16 md:mt-8 print:mt-0 relative text-gray-800 flex flex-col gap-3">

        <header class="flex justify-between items-end border-b-2 border-nj-blue pb-2">
            <div>
                <img src="https://res.cloudinary.com/dslkn4i7d/image/upload/v1769186774/2_zpjwvm.png" alt="Neto Junior"
                    class="h-10 object-contain mb-1">
                <h1 class="text-lg font-bold text-nj-blue uppercase leading-none">Checklist - Processo de Loca√ß√£o</h1>
            </div>
            <div class="text-right flex flex-col gap-1 w-1/3">
                <div class="flex gap-2"><span class="text-[10px] font-bold">DATA:</span> <input type="date"
                        class="input-line text-right"></div>
                <div class="flex gap-2"><span class="text-[10px] font-bold">CORRETOR:</span> <input type="text"
                        class="input-line text-right"></div>
                <div class="flex gap-2"><span class="text-[10px] font-bold">REF. IM√ìVEL:</span> <input type="text"
                        class="input-line text-right"></div>
            </div>
        </header>

        <div class="grid grid-cols-2 gap-4">
            <div class="border border-gray-200 p-2 rounded">
                <div class="section-header print-section-header">Dados do Im√≥vel</div>
                <div class="grid grid-cols-1 gap-1">
                    <input type="text" class="input-line" placeholder="Edif√≠cio / Condom√≠nio">
                    <div class="flex gap-2">
                        <input type="text" class="input-line w-3/4" placeholder="Endere√ßo">
                        <input type="text" class="input-line w-1/4" placeholder="N¬∫">
                    </div>
                    <div class="flex gap-2">
                        <input type="text" class="input-line w-1/3" placeholder="Compl/Conj">
                        <input type="text" class="input-line w-1/3" placeholder="Bairro">
                        <input type="text" class="input-line w-1/3" placeholder="CEP">
                    </div>
                    <div class="flex gap-2">
                        <input type="text" class="input-line" placeholder="Cidade/UF" value="S√£o Paulo - SP">
                        <input type="text" class="input-line" placeholder="Vagas de Garagem">
                    </div>
                </div>
            </div>

            <div class="border border-gray-200 p-2 rounded">
                <div class="section-header print-section-header">Negocia√ß√£o</div>
                <div class="grid grid-cols-2 gap-2">
                    <div>
                        <label class="text-[9px] font-bold text-nj-blue">ALUGUEL (R$)</label>
                        <input type="text" class="input-line font-bold">
                    </div>
                    <div>
                        <label class="text-[9px] font-bold text-nj-blue">CONDOM√çNIO (R$)</label>
                        <input type="text" class="input-line">
                    </div>
                    <div>
                        <label class="text-[9px] font-bold text-nj-blue">IPTU (R$)</label>
                        <input type="text" class="input-line">
                    </div>
                    <div>
                        <label class="text-[9px] font-bold text-nj-blue">COMISS√ÉO (%)</label>
                        <input type="text" class="input-line">
                    </div>
                </div>
                <div class="mt-2 flex gap-4 text-[9px]">
                    <span class="font-bold text-nj-blue">NOTA FISCAL?</span>
                    <label class="flex items-center"><input type="checkbox" class="mr-1"> SIM</label>
                    <label class="flex items-center"><input type="checkbox" class="mr-1"> N√ÉO</label>
                </div>
                <input type="text" class="input-line mt-1" placeholder="Obs / Car√™ncia">
            </div>
        </div>

        <div class="border border-gray-200 p-2 rounded">
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <div class="section-header print-section-header bg-gray-500">Locat√°rio (Inquilino)</div>
                    <input type="text" class="input-line mb-1" placeholder="Nome Completo">
                    <div class="flex gap-2">
                        <input type="text" class="input-line" placeholder="Telefone">
                        <input type="text" class="input-line" placeholder="E-mail">
                    </div>
                </div>
                <div>
                    <div class="section-header print-section-header bg-gray-500">Propriet√°rio</div>
                    <input type="text" class="input-line mb-1" placeholder="Nome Completo">
                    <div class="flex gap-2">
                        <input type="text" class="input-line" placeholder="Telefone">
                        <input type="text" class="input-line" placeholder="E-mail">
                    </div>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-3 gap-3">
            <div class="border border-gray-200 p-2 rounded bg-slate-50">
                <div class="section-header print-section-header">Locat√°rio P. F√≠sica</div>
                <div class="flex flex-col gap-1">
                    <label class="check-item"><input type="checkbox" class="check-input"><span class="check-label">RG e
                            CPF (Casal se houver)</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span
                            class="check-label">Certid√£o Casamento/Nasc.</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span
                            class="check-label">Comprovante Resid√™ncia</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span class="check-label">IR
                            Completo + Recibo</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span class="check-label">Ficha
                            Cadastral Assinada</span></label>
                </div>
                <div class="group-title">Comprovantes de Renda</div>
                <div class="flex flex-col gap-1">
                    <label class="check-item"><input type="checkbox" class="check-input"><span
                            class="check-label">Holerites (3 √∫ltimos)</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span
                            class="check-label">Carteira Trabalho (Digital)</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span
                            class="check-label">Extrato Banc√°rio (3 meses)</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span
                            class="check-label">DECORE (Aut√¥nomo)</span></label>
                </div>
            </div>

            <div class="border border-gray-200 p-2 rounded bg-slate-50">
                <div class="section-header print-section-header">Locat√°rio P. Jur√≠dica</div>
                <div class="flex flex-col gap-1">
                    <label class="check-item"><input type="checkbox" class="check-input"><span
                            class="check-label">Contrato Social + Altera√ß√µes</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span
                            class="check-label">Cart√£o CNPJ</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span
                            class="check-label">RG/CPF dos S√≥cios</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span class="check-label">IRPJ
                            ou Balancete</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span
                            class="check-label">Faturamento (√∫ltimos 12m)</span></label>
                </div>
                <div class="section-header print-section-header mt-3 bg-gray-600">Im√≥vel / Propriet√°rio</div>
                <div class="flex flex-col gap-1">
                    <label class="check-item"><input type="checkbox" class="check-input"><span
                            class="check-label">Matr√≠cula Atualizada</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span class="check-label">Capa
                            IPTU</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span
                            class="check-label">Boleto Condom√≠nio</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span class="check-label">Conta
                            de Consumo (Luz/G√°s)</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span class="check-label">Docs
                            Pessoais Propriet√°rio</span></label>
                </div>
            </div>

            <div class="border border-gray-200 p-2 rounded bg-slate-50">
                <div class="section-header print-section-header">Garantia Selecionada</div>
                <div class="grid grid-cols-2 gap-1 mb-2 text-[8px]">
                    <label class="flex items-center"><input type="checkbox" class="mr-1"> Cau√ß√£o ($)</label>
                    <label class="flex items-center"><input type="checkbox" class="mr-1"> Seg. Fian√ßa</label>
                    <label class="flex items-center"><input type="checkbox" class="mr-1"> Fiador</label>
                    <div class="flex items-center text-[9px] col-span-1">
                        <input type="checkbox" class="mr-1"> <span class="mr-1">T√≠t. Cap.</span>
                        <input type="text"
                            class="border-b border-gray-400 w-12 text-center font-bold bg-transparent outline-none h-3"
                            placeholder="(Valor)">
                    </div>
                </div>

                <div class="group-title">Documentos do Fiador</div>
                <div class="flex flex-col gap-1">
                    <label class="check-item"><input type="checkbox" class="check-input"><span
                            class="check-label">Matr√≠cula Im√≥vel (√înus)</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span
                            class="check-label">RG/CPF (Casal)</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span class="check-label">Cert.
                            Casamento</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span
                            class="check-label">Comprovante Resid√™ncia</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span
                            class="check-label">Comprovante Renda (3x)</span></label>
                    <label class="check-item"><input type="checkbox" class="check-input"><span class="check-label">Ficha
                            Cadastral Assinada</span></label>
                </div>
            </div>
        </div>

        <div id="obs-container" class="obs-container border border-gray-200 p-2 rounded w-full mb-2">
            <div class="section-header print-section-header bg-nj-silver text-white">Status do Processo & Observa√ß√µes
            </div>
            <div class="grid grid-cols-4 gap-4 text-[9px] text-center uppercase font-bold text-gray-500 mb-2">
                <div class="border-r border-gray-200"><label class="cursor-pointer"><input type="checkbox"> An√°lise
                        Aprovada</label></div>
                <div class="border-r border-gray-200"><label class="cursor-pointer"><input type="checkbox"> Contrato
                        Enviado</label></div>
                <div class="border-r border-gray-200"><label class="cursor-pointer"><input type="checkbox"> Chaves
                        Entregues</label></div>
                <div><label class="cursor-pointer"><input type="checkbox"> Finalizado</label></div>
            </div>
            <textarea id="obs-field"
                class="auto-textarea w-full border-t border-gray-200 pt-2 text-xs bg-transparent outline-none"
                placeholder="Digite observa√ß√µes importantes aqui..." rows="1"></textarea>
        </div>

        <footer class="mt-auto pt-2 border-t border-gray-300 text-center text-[8px] text-gray-500">
            <p class="font-bold text-nj-blue">NETO JUNIOR REAL ESTATE</p>
            <p>Rua Henri Dunant, 792 - Torre Office - Conjunto 307 - Ch√°cara Santo Ant√¥nio, S√£o Paulo-SP</p>
        </footer>

    </div>

    <script>
        /* --- SISTEMA DE ARQUIVOS (Checklist) --- */
        function saveData() {
            const inputs = document.querySelectorAll('input, textarea, select');
            const data = {
                type: 'checklist',
                values: []
            };

            // Salva o estado de todos os inputs (texto e checkboxes)
            inputs.forEach(input => {
                if (input.type === 'checkbox') {
                    data.values.push(input.checked);
                } else {
                    data.values.push(input.value);
                }
            });

            // Criar e baixar arquivo
            const blob = new Blob([JSON.stringify(data)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');

            const now = new Date();
            const filename = `Checklist_NJ_${now.getDate()}-${now.getMonth() + 1}_${now.getHours()}h.nj`;

            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }

        function loadFromFile(input) {
            const file = input.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function (e) {
                try {
                    const data = JSON.parse(e.target.result);

                    const inputs = document.querySelectorAll('input, textarea, select');
                    inputs.forEach((input, index) => {
                        if (index < data.values.length) {
                            if (input.type === 'checkbox') {
                                input.checked = data.values[index];
                            } else {
                                input.value = data.values[index];
                            }
                        }
                    });

                    autoResize.call(document.getElementById('obs-field'));
                    alert('Checklist carregado com sucesso!');
                } catch (err) {
                    alert('Erro ao carregar. Verifique se o arquivo √© v√°lido.');
                }
            };
            reader.readAsText(file);
            input.value = '';
        }

        /* --- ZOOM --- */
        let currentZoom = 85;
        const zoomDisplay = document.getElementById('zoom-display');
        const root = document.documentElement;

        function adjustZoom(amount) {
            currentZoom += amount;
            if (currentZoom < 60) currentZoom = 60;
            if (currentZoom > 120) currentZoom = 120;
            root.style.setProperty('--print-zoom', currentZoom + '%');
            zoomDisplay.textContent = currentZoom + '%';
        }

        /* --- AUTO-RESIZE --- */
        const obsField = document.getElementById('obs-field');
        const obsContainer = document.getElementById('obs-container');

        function autoResize() {
            this.style.height = 'auto';
            this.style.height = this.scrollHeight + 'px';

            if (this.value.trim() === '') {
                obsContainer.classList.add('empty-obs');
            } else {
                obsContainer.classList.remove('empty-obs');
            }
        }
        obsField.addEventListener('input', autoResize);

        /* --- INICIALIZA√á√ÉO --- */
        window.addEventListener('load', () => {
            const today = new Date();
            const dateStr = today.toLocaleDateString('pt-BR').replace(/\//g, '');
            document.title = `Checklist NJ${dateStr}`;

            const dateInputs = document.querySelectorAll('input[type="date"]');
            dateInputs.forEach(input => { input.valueAsDate = new Date(); });

            autoResize.call(obsField);
        });
    </script>

</body>

</html>